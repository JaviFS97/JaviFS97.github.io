<!DOCTYPE html><html lang="es" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Recopilación Pasiva de información" /><meta name="author" content="Javier Fernández Santos" /><meta property="og:locale" content="es" /><meta name="description" content="En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación pasiva de información." /><meta property="og:description" content="En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación pasiva de información." /><link rel="canonical" href="https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/" /><meta property="og:url" content="https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/" /><meta property="og:site_name" content="JaviFS97" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-25T12:03:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Recopilación Pasiva de información" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Javier Fernández Santos"},"description":"En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación pasiva de información.","url":"https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/"},"headline":"Recopilación Pasiva de información","dateModified":"2021-05-25T12:03:00+02:00","datePublished":"2021-05-25T12:03:00+02:00","@context":"https://schema.org"}</script><title>Recopilación Pasiva de información | JaviFS97</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="JaviFS97"><meta name="application-name" content="JaviFS97"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">JaviFS97</a></div><div class="site-subtitle font-italic">Welcome! I'm javier, and in this blog is my personal space where I share articles on certain topics, research I do in my lab, CTF write-ups, and quick notes on things I want to remember. and quick notes on things I want to remember.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/JaviFS97" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/JaviFS97" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Recopilación Pasiva de información</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Recopilación Pasiva de información</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/JaviFS97">Javier Fernández Santos</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-05-25 12:03:00 +0200" data-toggle="tooltip" data-placement="bottom" title="Tue, May 25, 2021, 12:03 PM +0200" >May 25, 2021</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1940 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><p>En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación pasiva de información.</p><h1 id="índice">Índice</h1><ul><li><a href="#objetivo">Objetivo</a><li><a href="#hacking-con-buscadores-google-hacking">Hacking con buscadores: Google Hacking</a><ul><li><a href="#comandos-principales-google-hacking">Comandos principales Google Hacking</a><li><a href="#operadores-booleanos-google-hacking">Operadores Booleanos Google Hacking</a><li><a href="#google-hacking-database">Google Hacking Database</a></ul><li><a href="#shodan">Shodan</a><ul><li><a href="#cómo-funciona">¿Cómo funciona?</a><li><a href="#comandos-principales">Comandos principales</a></ul><li><a href="#whois">WHOIS</a><li><a href="#archiveorg">Archive.org</a><ul><li><a href="#caso-de-uso">Caso de uso</a></ul><li><a href="#the-harvester">The Harvester</a><ul><li><a href="#caso-de-uso-1">Caso de uso</a><li><a href="#comandos-más-importantes">Comandos más importantes</a></ul><li><a href="#maltego">Maltego</a><ul><li><a href="#qué-es-un-transformador">¿Qué es un transformador?</a><li><a href="#qué-es-un-grafo">¿Qué es un grafo?</a><li><a href="#caso-de-uso-2">Caso de uso</a></ul><li><a href="#recon-ng">Recon-ng</a><ul><li><a href="#caso-de-uso-3">Caso de uso</a></ul></ul><h1 id="objetivo">Objetivo</h1><p>Obtener toda la información posible sobre nuestro objetivo <strong>sin que las actividades realizadas por el analista sean mínimamente detectadas por dicho objetivo</strong>.</p><p>Difícil de realizar y a menudo proporciona resultados poco concluyentes.</p><p>La manera habitual de recolección pasiva de información es mediante el acceso a la <strong>información almacenada en lugares públicos</strong>.</p><p>Raramente se utiliza de manera individual, normalmente se combina con recopilación semi-pasiva y activa. De esta manera podremos contrastar la información hallada.</p><h1 id="hacking-con-buscadores-google-hacking">Hacking con buscadores: Google Hacking</h1><p>Recopilaremos aquella información que haya sido indexada por el buscador.</p><h2 id="comandos-principales-google-hacking">Comandos principales Google Hacking<a href="#comandos-principales-google-hacking"><i class="fas fa-hashtag"></i></a></h2></h2><p>A continuación se muestran los comandos principales que podemos utilizar con Google. Hay que tener en cuenta que todos ellos deben ir seguidos (sin espacios) de la consulta que quiere realizarse:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Comando<th>Descripción<tbody><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">define:término</code><td>Se muestran definiciones procedentes de páginas web para el término buscado.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">filetype:término</code><td>Las búsquedas se restringen a páginas cuyos nombres acaben en el término especificado. Sobretodo se utiliza para determinar la extensión de los ficheros requeridos. Nota: el comando ext:término se usa de manera equivalente.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">site:sitio/dominio</code><td>Los resultados se restringen a los contenidos en el sitio o dominio especificado. Muy útil para realizar búsquedas en sitios que no tienen buscadores internos propios.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">link:url</code><td>Muestra páginas que apuntan a la definida por dicha url. La cantidad (y calidad) de los enlaces a una página determina su relevancia para los buscadores. Nota: sólo presenta aquellas páginas con pagerank 5 o más.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">cache:url</code><td>Se mostrará la versión de la página definida por url que Google tiene en su memoria, es decir, la copia que hizo el robot de Google la última vez que pasó por dicha página.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">info:url</code><td>Google presentará información sobre la página web que corresponde con la url.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">related:url</code><td>Google mostrará páginas similares a la que especifica la url. Nota: Es difícil entender que tipo de relación tiene en cuenta Google para mostrar dichas páginas. Muchas veces carece de utilidad.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">allinanchor:términos</code><td>Google restringe las búsquedas a aquellas páginas apuntadas por enlaces donde el texto contiene los términos buscados.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">inanchor:término</code><td>Las búsquedas se restringen a aquellas apuntadas por enlaces donde el texto contiene el término especificado. A diferencia de allinanchor se puede combinar con la búsqueda habitual.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">allintext:términos</code><td>Se restringen las búsquedas a los resultados que contienen los términos en el texto de la página.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">intext:término</code><td>Restringe los resultados a aquellos textos que contienen término en el texto. A diferencia de allintext se puede combinar con la búsqueda habitual de términos.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">allinurl:términos</code><td>Sólo se presentan los resultados que contienen los términos buscados en la url.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">inurl:término</code><td>Los resultados se restringen a aquellos que contienen término en la url. A diferencia de allinurl se puede combinar con la búsqueda habitual de términos.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">allintitle:términos</code><td>Restringe los resultados a aquellos que contienen los términos en el título.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">intitle:término</code><td>Restringe los resultados a aquellos documentos que contienen término en el título. A diferencia de allintitle se puede combinar con la búsqueda habitual de términos.</table></div><h2 id="operadores-booleanos-google-hacking">Operadores Booleanos Google Hacking<a href="#operadores-booleanos-google-hacking"><i class="fas fa-hashtag"></i></a></h2></h2><p>Google hace uso de los operadores booleanos para realizar búsquedas combinadas de varios términos. Esos operadores son una serie de símbolos que Google reconoce y modifican la búsqueda realizada:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Operador<th>Descripción<tbody><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">" "</code><td>Busca las palabras exactas.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-</code><td>Excluye una palabra de la búsqueda. (Ej: gmail -hotmail, busca páginas en las que aparezca la palabra gmail y no aparezca la palabra hotmail).<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">OR ó \|</code><td>Busca páginas que contengan un término u otro.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">+</code><td>Permite incluir palabras que Google por defecto no tiene en cuenta al ser muy comunes (en español: “de”, “el”, “la”…..). También se usa para que Google distinga acentos, diéresis y la letra ñ, que normalmente son elementos que no distingue.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">*</code><td>Comodín. Utilizado para sustituir una palabra. Suele combinarse con el operador de literalidad (“ “).</table></div><h2 id="google-hacking-database">Google Hacking Database<a href="#google-hacking-database"><i class="fas fa-hashtag"></i></a></h2></h2><p>Es un <a href="https://www.exploit-db.com/google-hacking-database">repositorio</a> donde se publican los denominados <code class="language-plaintext highlighter-rouge">Google Dork</code>.</p><blockquote><p>Cada una de las consultas que tenemos en el apartado anterior se denominan <code class="language-plaintext highlighter-rouge">Google Dork</code>.</p></blockquote><p>Hay que dejar claro que los Google Dorks van dejando de tener utilidad a medida que las empresas van descubriendo la información expuesta e indexada.</p><h1 id="shodan">Shodan</h1><p>Es un motor de búsqueda que le permite al usuario encontrar información de equipos (routers, servidores, etc.) conectados a Internet a través de una variedad de filtros.</p><p>En lugar de indexar webs (como hace google), indexa los sistemas en base a los servicios que están corriendo en esos sistemas (concretamente al banner que nos proporcionan esos servicios).</p><h2 id="cómo-funciona">¿Cómo funciona?<a href="#cómo-funciona"><i class="fas fa-hashtag"></i></a></h2></h2><p><strong>Solicita conexiones a todas las direcciones IP imaginables en Internet</strong> e indexando la información que obtiene de esas solicitudes de conexión. Rastrea la web en busca de dispositivos utilizando una red global de ordenadores y servidores que funcionan las 24 horas del día.</p><p>Realiza un escaneo de puertos. <strong>Aquellos que estén abiertos responden con banners que contienen importantes metadatos</strong> sobre los dispositivos a los que Shodan solicita una conexión.</p><p>Estos <code class="language-plaintext highlighter-rouge">banners</code> pueden proporcionar todo tipo de información de identificación, pero aquí están algunos de los campos más comunes que verá en un banner:</p><ul><li>Nombre del dispositivo: Cómo se llama el dispositivo en línea.<li>Dirección IP.<li>Número de puerto: El protocolo que utiliza su dispositivo para conectarse a la web.<li>Organización: Qué empresa es la propietaria de tu “espacio IP”.<li>Ubicación.<li>Algunos dispositivos incluso incluyen su nombre de usuario y contraseña por defecto, la marca y el modelo, y la versión del software, todo lo cual puede ser aprovechado por los hackers.</ul><p>También disponemos de la <code class="language-plaintext highlighter-rouge">herramienta SHODAN Diggity</code>, que permite realizar búsquedas automatizadas dentro de SHODAN, al cual se conecta a través de SHODAN API. Incorpora un repositorio de búsquedas habituales, denominado SHODAN Hacking Database.</p><h2 id="comandos-principales">Comandos principales<a href="#comandos-principales"><i class="fas fa-hashtag"></i></a></h2></h2><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Operador<th>Descripción<tbody><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">after</code><td>Only show results after the given date (dd/mm/yyyy) string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">asn</code><td>Autonomous system number string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">before</code><td>Only show results before the given date (dd/mm/yyyy) string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">category</code><td>Available categories: ics, malwarestring<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">city</code><td>Name of the city string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">country</code><td>2-letter country code string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">geo</code><td>Accepts between 2 and 4 parameters. If 2 parameters: latitude, longitude. If 3 parameters: latitude, longitude, range. If 4 parameters: top left latitude, top left longitude, bottom right latitude, bottom right longitude.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">hash</code><td>Hash of the data property integer<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">has_ipv6</code><td>True/False boolean<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">has_screenshot</code><td>True/False boolean<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">server</code><td>Devices or servers that contain a specific server header flag string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">hostname</code><td>Full host name for the device string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">ip</code><td>Alias for net filter string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">isp</code><td>ISP managing the netblock string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">net</code><td>Network range in CIDR notation (ex.199.4.1.0/24) string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">org</code><td>Organization assigned the netblock string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">os</code><td>Operating system string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">port</code><td>Port number for the service integer<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">postal</code><td>Postal code (US-only) string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">product</code><td>Name of the software/product providing the banner string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">region</code><td>Name of the region/state string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">state</code><td>Alias for region string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">version</code><td>Version for the product string<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">vuln</code><td>CVE ID for a vulnerability string</table></div><p><a href="https://github.com/jakejarvis/awesome-shodan-queries">Repositorio</a> con queries shodan bastante interesantes.</p><h1 id="whois">WHOIS</h1><p>WHOIS no es una aplicación como tal a la que vayamos a recurrir para obtener información sobre nuestro objetivo, sino que se trata de un protocolo TCP cuya misión es realizar búsquedas de información de dominios web, dentro de las bases de dataos de los organismos encargados de llevar a cabo el control sobre ellos.</p><p>Mediante este procedimiento podremos obtener datos tales como la persona que realizó la compra del dominio, la fecha en la que lo hizo, la fecha en la que expira la validez de la compra, los servidores DNS sobre los que está alojado, sus direcciones IP, incluso otros datos más personales como el número de teléfono y la dirección de correo electrónico de los administradores del sitio web.</p><h1 id="archiveorg">Archive.org</h1><p>Es una biblioteca digital gestionada por una organización sin ánimo de lucro dedicada a la preservación de archivos, capturas de sitios públicos de la Web, recursos multimedia y también software.</p><h2 id="caso-de-uso">Caso de uso<a href="#caso-de-uso"><i class="fas fa-hashtag"></i></a></h2></h2><p>El uso que se le puede dar es: recuperar información relevante que se haya modificado o eliminado del sitio web. Por ejemplo, alguien sube a su repositorio de GitHub un proyecto y por error no elimina las credenciales. Cuando se dé cuenta, las elimina del proyecto, pero puede que estas hayan quedado capturadas en Archive.org.</p><h1 id="the-harvester">The Harvester</h1><p>Herramienta muy simple de usar, pero poderosa y efectiva, diseñada para ser usada en las primeras fases del pentesting. Es usado para recopilar información de fuentes abiertas (OSINT). <a href="https://github.com/laramies/theHarvester">Link a su repositorio</a>.</p><p>La herramienta recopila correos electrónicos, nombres, subdominios, IPs y URLs utilizando múltiples fuentes de datos públicos como: google, baidu, linkedin, censys, shodan, github, etc.</p><h2 id="caso-de-uso-1">Caso de uso<a href="#caso-de-uso-1"><i class="fas fa-hashtag"></i></a></h2></h2><p>Por ejemplo, si queremos lanzar un ataque de phising sobre los empleados de una cierta empresa, podemos hacer que recopile los correos electrónicos de sus trabajadores a través de una consulta por linkedin.</p><p><img data-proofer-ignore data-src="/assets/img/posts/20210525/TheHarvester.png" alt="The Harvester" class="shadow" style="min-width: 70%;" /> <em>Campaña OSINT con The Harvester</em></p><p>Esta salida es la genérica, es decir, por terminal. Pero el parámetro <code class="language-plaintext highlighter-rouge">-f</code> permite exportar este resultado a un informe en HTML o XML.</p><h2 id="comandos-más-importantes">Comandos más importantes<a href="#comandos-más-importantes"><i class="fas fa-hashtag"></i></a></h2></h2><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Parámetro<th>Descripción<tbody><tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-d</code><td>Especifica el dominio sobre el que se va a realizar la búsqueda.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-b</code><td>Especifica la fuente de datos desde donde se van a obtener los resultados. Permite realizar consultas sobre motores de búsqueda, servidores PGP, redes sociales, etc. incluso sobre todas a la vez.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-g</code><td>Realiza la búsqueda dentro de los dorks de Google, en lugar de sobre el buscador normal.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-f</code><td>Permite exportar los resultados de la búsqueda a un informe en formato HTML o XML. <strong>Opción muy interesante para ganar en claridad</strong>.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-l</code><td>Limita el número de resultados a mostrar.<tr><td style="text-align: center"><code class="language-plaintext highlighter-rouge">-h</code><td>Realiza la consulta sobre el motor de búsqueda SHODAN.</table></div><h1 id="maltego">Maltego</h1><p>Es una herramienta de inteligencia de código abierto (OSINT) y de análisis de enlaces gráficos para recopilar y conectar información para tareas de investigación.</p><h2 id="qué-es-un-transformador">¿Qué es un transformador?<a href="#qué-es-un-transformador"><i class="fas fa-hashtag"></i></a></h2></h2><p>Sirven para la recopilación OSINT de fuentes comunes en Internet, incluidas las consultas en servidores DNS, motores de búsqueda, redes sociales, diversas API y otras fuentes.</p><h2 id="qué-es-un-grafo">¿Qué es un grafo?<a href="#qué-es-un-grafo"><i class="fas fa-hashtag"></i></a></h2></h2><p>Es la estructura principal que tiene Maltego. Es un lienzo en blanco en el que nosotros podemos arrastrar <code class="language-plaintext highlighter-rouge">entidades</code>. Estas entidades representan distintos tipos de información sobre los que nosotros vamos a poder buscar en fuentes públicas aplicando transformadores (es decir, consultas).</p><h2 id="caso-de-uso-2">Caso de uso<a href="#caso-de-uso-2"><i class="fas fa-hashtag"></i></a></h2></h2><p>Imaginemos que con las herramientas anteriores hemos conseguido el nombre y apellidos de un trabajador de una organización que estamos investigando.</p><p>Cogemos la <code class="language-plaintext highlighter-rouge">entidad "persona"</code> y la arrastramos al lienzo en blanco. Modificamos los atributos de la persona. Aplicamos los transformadores que queramos. Se irá generando un árbol con la información que va recopilando de cada transformador.</p><p><img data-proofer-ignore data-src="/assets/img/posts/20210525/Maltego.png" alt="Maltego grafo" class="shadow" style="min-width: 70%;" /> <em>Maltego grafo</em></p><h1 id="recon-ng">Recon-ng</h1><p>Permite realizar recolección de información y reconocimiento de redes de forma automatizada.</p><p>Basa su funcionamiento en el uso de diferentes módulos que ya vienen incluidos en la herramienta. Debiendo instalar aquellos que queramos usar por medio del marketplace. <code class="language-plaintext highlighter-rouge">&gt; marketplace install nombre_module</code>.</p><p>Mediante el comando <code class="language-plaintext highlighter-rouge">&gt; show modules</code> accedemos al listado de los módulos instalados. Están divididos en 5 tipos (Discovery, Explotation, Import, Recon y Reporting).</p><h2 id="caso-de-uso-3">Caso de uso<a href="#caso-de-uso-3"><i class="fas fa-hashtag"></i></a></h2></h2><p>En primer lugar, debemos escoger qué modulo queremos usar. Para ello ejecutamos el comando <code class="language-plaintext highlighter-rouge">&gt; use nombre_module</code>. A continuación, para saber qué opciones tiene el módulo, usamos el comando <code class="language-plaintext highlighter-rouge">&gt; show options</code>. Especificamos los valores que requiera el módulo. Tras esto, lanzamos la ejecución del módulo mediante el comando <code class="language-plaintext highlighter-rouge">&gt; run</code>. Una vez finalizada la ejecución, podremos ver los resultados obtenidos. La herramienta permite la exportación de los resultados a un fichero HTML.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/ciberseguridad/'>Ciberseguridad</a>, <a href='/categories/seguridad-ofensiva/'>Seguridad Ofensiva</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pentesting/" class="post-tag no-text-decoration" >Pentesting</a> <a href="/tags/google-hacking/" class="post-tag no-text-decoration" >Google Hacking</a> <a href="/tags/shodan/" class="post-tag no-text-decoration" >Shodan</a> <a href="/tags/whois/" class="post-tag no-text-decoration" >WHOIS</a> <a href="/tags/archive-org/" class="post-tag no-text-decoration" >Archive.org</a> <a href="/tags/the-harverster/" class="post-tag no-text-decoration" >The Harverster</a> <a href="/tags/maltego/" class="post-tag no-text-decoration" >Maltego</a> <a href="/tags/recon-ng/" class="post-tag no-text-decoration" >Recon-ng</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Recopilación Pasiva de información - JaviFS97&url=https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Recopilación Pasiva de información - JaviFS97&u=https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Recopilación Pasiva de información - JaviFS97&url=https://javifs97.github.io/posts/seg-ofensiva-reco-pasiva/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/vulnerability-zerologon/">Zerologon Vulnerability Implementation</a><li><a href="/posts/TFG/">TFG - Sistema de control y administración de una red de garajes inteligentes y automatizados</a><li><a href="/posts/TFM/">Use of Natural Language Processing techniques for the automatic identification of TTPs in Threat Intelligence Reports.</a><li><a href="/posts/seg-ofensiva-introduccion/">Introducción al Hacking Ético y Penetration Testing</a><li><a href="/posts/seg-ofensiva-explotacion-vuln-red/">Explotación de vulnerabilidades en Red</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentesting/">Pentesting</a> <a class="post-tag" href="/tags/nmap/">NMAP</a> <a class="post-tag" href="/tags/archive-org/">Archive.org</a> <a class="post-tag" href="/tags/armitage/">Armitage</a> <a class="post-tag" href="/tags/arpspoofing/">ARPspoofing</a> <a class="post-tag" href="/tags/automatizaci%C3%B3n/">Automatización</a> <a class="post-tag" href="/tags/bettercap/">Bettercap</a> <a class="post-tag" href="/tags/burpsuite/">BurpSuite</a> <a class="post-tag" href="/tags/cpe/">CPE</a> <a class="post-tag" href="/tags/cryptography/">Cryptography</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/seg-ofensiva-reco-semipasiva/"><div class="card-body"> <em class="timeago small" date="2021-06-10 12:03:00 +0200" >Jun 10, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Recopilación Semi-Pasiva de información</h3><div class="text-muted small"><p> En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación semi-pasiva de información. Contenido Objetivo FOCA ¿Qué son los me...</p></div></div></a></div><div class="card"> <a href="/posts/seg-ofensiva-reco-activa/"><div class="card-body"> <em class="timeago small" date="2021-06-21 07:35:00 +0200" >Jun 21, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Recopilación Activa de información</h3><div class="text-muted small"><p> En esta sección se han recopilado algunas de las principales herramientas usadas durante la fase de recopilación activa de información. Antes de continuar… ¿Dónde entra el concepto d...</p></div></div></a></div><div class="card"> <a href="/posts/seg-ofensiva-analisis-vulnerabilidades/"><div class="card-body"> <em class="timeago small" date="2021-06-29 05:35:00 +0200" >Jun 29, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Análisis de vulnerabilidades</h3><div class="text-muted small"><p> Durante esta sección veremos las diferentes alternativas, tanto manuales como automáticas, de las que disponemos para realizar análisis de vulnerabilidades sobre un objetivo. Contenido Objetivo...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/seg-ofensiva-introduccion/" class="btn btn-outline-primary" prompt="Older"><p>Introducción al Hacking Ético y Penetration Testing</p></a> <a href="/posts/seg-ofensiva-reco-semipasiva/" class="btn btn-outline-primary" prompt="Newer"><p>Recopilación Semi-Pasiva de información</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://www.linkedin.com/in/javifs97">Javier Fernández Santos</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentesting/">Pentesting</a> <a class="post-tag" href="/tags/nmap/">NMAP</a> <a class="post-tag" href="/tags/archive-org/">Archive.org</a> <a class="post-tag" href="/tags/armitage/">Armitage</a> <a class="post-tag" href="/tags/arpspoofing/">ARPspoofing</a> <a class="post-tag" href="/tags/automatizaci%C3%B3n/">Automatización</a> <a class="post-tag" href="/tags/bettercap/">Bettercap</a> <a class="post-tag" href="/tags/burpsuite/">BurpSuite</a> <a class="post-tag" href="/tags/cpe/">CPE</a> <a class="post-tag" href="/tags/cryptography/">Cryptography</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
